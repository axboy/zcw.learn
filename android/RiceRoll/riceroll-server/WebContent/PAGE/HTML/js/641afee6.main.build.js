function getCookie1(a){var b=document.cookie.indexOf(";",a);return-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(a,b))}function getCookie2(a){for(var b=a+"=",c=b.length,d=document.cookie.length,e=0;d>e;){var f=e+c;if(document.cookie.substring(e,f)==b)return getCookie1(f);if(e=document.cookie.indexOf(" ",e)+1,0==e)break}return null}function setCookie(a,b,c,d){var d=d?d:"ie.sogou.com",e=new Date;e.setTime(e.getTime()+c),document.cookie=a+"="+b+";path=/;expires="+e.toGMTString()+";domain="+d+";"}var PingbackApp=function(){var a="http://ping.ie.sogou.com/",b=(new Date).getTime(),c=escape(1e3*b+Math.round(1e3*Math.random()));this.getUid=function(){var a="";return null!=getCookie2("SMYUV")?a=getCookie2("SMYUV"):(a=c,setCookie("SMYUV",a,2592e6,"sogou.com")),a},this.getYYID=function(){var a="";return a=null!=getCookie2("YYID")?getCookie2("YYID"):""},this.refurl=""==document.referrer?"":encodeURIComponent(document.referrer),this.pl=encodeURIComponent("http://ie.sogou.com/index.html");var d=this.getUid();this.getPv=function(){var b=(new Date).getTime(),e=b-t1,f=t3-t1;var g=document.createElement("img");g.src=a+"pv.GIF?t="+c+"&u="+d+"&r="+this.refurl+"&pl="+this.pl+"&load="+f+"&onloadtime="+e+"&oSiteVer=future5.0"},this.getDlBtnClick=function(b,c){var e=(new Date).getTime(),f=escape(1e3*e+Math.round(1e3*Math.random())),g=c.part,h=c.idx,i=document.createElement("img");i.src=a+"ct.GIF?t="+f+"&u="+d+"&pl="+this.pl+"&type="+b+"&oSiteVer=future5.0&part="+g+"&idx="+h},this.getClick=function(b){b=b?b:window.event;var c=b.target?b.target:b.srcElement;try{for(;"A"==c.tagName.toUpperCase()||"INPUT"==c.tagName.toUpperCase()||"IMG"==c.tagName.toUpperCase();){is_link=!1,("A"==c.tagName.toUpperCase()||"INPUT"==c.tagName.toUpperCase())&&(is_link=!0);var e=c.innerHTML?c.innerHTML:c.value;e=escape(e);var f=c.href?c.href:c.value;if(f=encodeURIComponent(f),clickFrom=window.location.href,""==e||""==address)break;for(var g=(new Date).getTime(),h=escape(1e3*g+Math.round(1e3*Math.random())),i=c.parentNode;!i.id;)i=i.parentNode;mod=i.id;var j=document.createElement("img");is_link&&(j.src=a+"ct.GIF?t="+h+"&u="+d+"&r="+this.refurl+"&pl="+this.pl+"&on="+e+"&ol="+f+"&mod="+mod+"&clickfrom="+clickFrom),c=c.parentNode}}catch(k){}return!0}},pingApp=new PingbackApp;window.onload=function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?(b="on"+b,a.attachEvent(b,c)):a["on"+b]=c}function b(a,b){var c=window.getComputedStyle(a);return c.getPropertyValue(b)}function c(a,b,c){a.style[b]=c}function d(a,b,d){"down"===b&&v.curConIdx<3?(h(),c(a,"marginTop",-(v.curConIdx+1)*d+"px"),v.subCons[v.curConIdx].classList.remove("fadein"),v.subCons[v.curConIdx].classList.add("fadeout"),v.subCons[v.curConIdx].classList.remove("play"),v.subCons[v.curConIdx+1].classList.remove("fadeout"),v.subCons[v.curConIdx+1].classList.add("fadein"),v.subCons[v.curConIdx+1].classList.add("play"),v.curConIdx+1==2&&(v.bubbleSwapFlag=1,e()),v.curConIdx+1==3&&(f(),g()),v.curConIdx++):"up"===b&&v.curConIdx>0&&(h(),c(a,"marginTop",-(v.curConIdx-1)*d+"px"),v.subCons[v.curConIdx].classList.remove("fadein"),v.subCons[v.curConIdx].classList.add("fadeout"),v.subCons[v.curConIdx].classList.remove("play"),v.subCons[v.curConIdx-1].classList.remove("fadeout"),v.subCons[v.curConIdx-1].classList.add("fadein"),v.subCons[v.curConIdx-1].classList.add("play"),v.curConIdx-1==2&&(v.bubbleSwapFlag=1,e()),v.curConIdx--)}function e(){function a(){if(v.bubbleSwapFlag)if(f){var g=b(d,"background-image");c(d,"background-image",b(e[f-1],"background-image").replace("small_gs","big_gs")),c(e[f-1],"background-image",g.replace("big_gs","small_gs")),f--,v.swapTimer1=setTimeout(a,3e3)}else f=6,a()}var d=s(".bubbles .ae0"),e=t(".bubbles li:not(.ae0)"),f=e.length;v.bubbleSwapFlag&&(v.swapTimer=setTimeout(a,2500))}function f(){s(".cycles .ae"+v.lastTOIdx).classList.remove("turnover");var a=4*Math.random()|0;return v.lastTOIdx==a?void f():(v.lastTOIdx=a,s(".cycles .ae"+a).classList.add("turnover"),void(v.turnoverFlag=setTimeout(f,4e3)))}function g(){s(".footer_nav").classList.add("show_footer"),s(".scroll_down_btn").classList.add("reverse")}function h(){s(".footer_nav").classList.remove("show_footer"),s(".scroll_down_btn").classList.remove("reverse"),clearTimeout(v.swapTimer),clearTimeout(v.swapTimer1),v.swapTimer=0,v.swapTimer1=0,v.bubbleSwapFlag=0,clearTimeout(v.turnoverFlag),v.turnoverFlag=0}function i(a){"down"===a&&v.curConIdx<0?(s(".pre_am").classList.add(w[Math.abs(v.curConIdx)-1]),v.curConIdx++,(-3==v.curConIdx||-2==v.curConIdx)&&s(".main_nav_right").classList.add("play"),-1==v.curConIdx&&(v.curConIdx=0,setTimeout(j,1600))):"up"===a&&v.curConIdx>-4&&(s(".pre_am").classList.remove(w[Math.abs(v.curConIdx)]),v.curConIdx--,-4==v.curConIdx&&s(".main_nav_right").classList.remove("play"))}function j(){s(".pre_ambg_wrap").classList.add("hide"),s(".main_nav").classList.remove("play"),s(".main_nav_right").classList.remove("play"),s(".pre_am").classList.adds("fadeout hide"),s(".sub_con_wrap").classList.removes("fadeoutQuick hide"),s(".part0").classList.add("fadein"),s(".main_content").classList.add("limit"),s(".main_mask_header").classList.remove("hide"),s(".main_mask_footer").classList.remove("hide"),setTimeout(function(){s(".part0").classList.add("play")},0)}function k(){var a=window.event||arguments[0],b=a.wheelDelta||-a.detail;0>b||40==a.keyCode?m():(b>0||38==a.keyCode)&&n()}function l(){s(".scroll_down_btn").classList.contains("reverse")?s(".scroll_down_btn").classList.contains("reverse")&&n():m()}function m(){v.curConIdx>=0&&v.curConIdx<=3?d(s(".main_wrap"),"down",v.slideStep):i("down")}function n(){v.curConIdx>=0&&v.curConIdx<=3?d(s(".main_wrap"),"up",v.slideStep):i("up")}function o(){v.opening=1,localStorage.getItem("markRead")&&(v.opening=0),v.opening?(localStorage.setItem("markRead",1),v.curConIdx=-4,s(".pre_am").classList.remove("hide"),s(".pre_ambg_wrap").classList.remove("hide"),s(".main_content").classList.remove("limit"),s(".main_mask_header").classList.add("hide"),s(".main_mask_footer").classList.add("hide"),s(".sub_con_wrap").classList.add("hide"),s(".main_nav").classList.add("play"),s(".pre_ambg_wrap").classList.add("play"),setTimeout(function(){s(".pre_am").classList.add("step0")},0)):(v.curConIdx=0,s(".pre_ambg_wrap").classList.add("hide"),s(".main_nav").classList.remove("play"),s(".pre_am").classList.add("hide"),s(".part0").classList.add("play"))}function p(){c(s(".links_r"),"backgroundPosition","72px 0"),t(".links_r a")[0].classList.remove("link_on"),t(".links_r a")[1].classList.add("link_on")}function q(){c(s(".links_r"),"backgroundPosition","0 0"),t(".links_r a")[0].classList.add("link_on"),t(".links_r a")[1].classList.remove("link_on")}function r(){v.opening=1,v.curConIdx=-4,s(".pre_am").classList.removes("step0 step1 step2 step3 hide fadeout"),s(".sub_con_wrap").classList.add("fadeoutQuick"),s(".main_mask_header").classList.add("hide"),s(".main_mask_footer").classList.add("hide"),s(".main_content").classList.remove("limit"),s(".pre_ambg_wrap").classList.remove("hide"),setTimeout(function(){s(".part0").classList.remove("play"),s(".sub_con_wrap").classList.add("hide"),s(".main_nav").classList.add("play"),s(".pre_ambg_wrap").classList.add("play"),s(".pre_am").classList.adds("step0")},200)}pingApp.getPv();var s=function(a){return document.querySelector(a)},t=function(a){return document.querySelectorAll(a)},u=function(a,b){var c;return function(){var d=v.curConIdx>=0?200:800,e=this,f=arguments,g=function(){c=null,b||a.apply(e,f)},h=b&&!c;clearTimeout(c),c=setTimeout(g,d),h&&a.apply(e,f)}};DOMTokenList.prototype.adds=function(a){return a.split(" ").forEach(function(a){this.add(a)}.bind(this)),this},DOMTokenList.prototype.removes=function(a){return a.split(" ").forEach(function(a){this.remove(a)}.bind(this)),this};var v={opening:1,curConIdx:0,slideStep:700,bubbleSwapFlag:0,swapTimer:0,swapTimer1:0,lastTOIdx:0,subCons:t(".sub_con")},w={1:"step3",2:"step2",3:"step1",4:"step0"},x=u(k,1),y=u(l,1);a(document,"mousewheel",x),a(document,"DOMMouseScroll",x),a(document,"keyup",x),a(s(".scroll_down_btn"),"click",y),a(t(".links_r a")[1],"mouseover",p),a(t(".links_r a")[1],"mouseout",q),a(s(".replay_btn"),"click",r),a(s(".sub_ae1_btn"),"click",function(){pingApp.getDlBtnClick("dlbtnclick",{part:"opening",idx:"0"})}),a(s(".main_nav_btn"),"click",function(){var a;-3==v.curConIdx&&(a=1),-2==v.curConIdx&&(a=2),pingApp.getDlBtnClick("dlbtnclick",{part:"opening",idx:a})}),a(s(".dl_btn0"),"click",function(){pingApp.getDlBtnClick("dlbtnclick",{part:"main",idx:"0"})}),a(s(".dl_btn1"),"click",function(){pingApp.getDlBtnClick("dlbtnclick",{part:"main",idx:"1"})}),a(s(".dl_btn2"),"click",function(){pingApp.getDlBtnClick("dlbtnclick",{part:"main",idx:"2"})}),a(s(".dl_btn3"),"click",function(){pingApp.getDlBtnClick("dlbtnclick",{part:"main",idx:"3"})}),setTimeout(o,50)};